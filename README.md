# Развертывание Discord-бота с Lavalink на Koyeb

Этот репозиторий содержит код Discord-бота на Python и конфигурацию сервера Lavalink. Ниже описано, как бесплатно запустить бота на платформе [Koyeb](https://www.koyeb.com/). Бесплатный тариф позволяет держать одно приложение 24/7, поэтому бот и Lavalink запускаются в одном контейнере.

## 1. Подготовка репозитория
1. Форкните этот репозиторий или склонируйте его в свой аккаунт GitHub.
2. В файле `.env` должны быть заданы переменные `DISCORD_BOT_TOKEN`, `OPENAI_API_KEY`, `LAVALINK_PASSWORD` и при необходимости `LAVALINK_URI`.

## 2. Развёртывание в Koyeb
1. Зарегистрируйтесь на сайте Koyeb и подключите свой GitHub-аккаунт.
2. Нажмите **Create App** и выберите этот репозиторий. В качестве сборки используйте `Dockerfile` из корня — он запускает и бот, и Lavalink.
3. В настройках приложения добавьте переменные окружения из `.env` (`DISCORD_BOT_TOKEN`, `OPENAI_API_KEY`, `LAVALINK_PASSWORD` и при необходимости `LAVALINK_URI`).
4. Нажмите **Deploy** и дождитесь статуса `running`.

## 3. Запуск
1. Команда запуска уже задана в `Dockerfile`, поэтому достаточно нажать **Deploy** и дождаться статуса `running`.
2. Пригласите бота на свой сервер Discord, используя ссылку вида `https://discord.com/api/oauth2/authorize?client_id=<ID>&permissions=8&scope=bot%20applications.commands`.

## 4. Использование
Бот поддерживает команды `/meme`, `/khata`, `/askgpt` и управление музыкой (`/play`, `/pause`, `/resume`, `/next`, `/leave`).

## 5. Примечания
- Бесплатный тариф Koyeb предоставляет одно приложение с 512 MB памяти без оплаты. Этого достаточно, чтобы бот с включённым Lavalink работал постоянно.
- Храните токены OpenAI и Discord только в переменных окружения и не публикуйте их.
